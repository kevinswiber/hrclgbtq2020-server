(self.webpackChunklgbtq_state_equality_index=self.webpackChunklgbtq_state_equality_index||[]).push([[277],{1293:function(e,t,n){"use strict";var r=n(2122),a=n(1253),i=n(6156),o=n(7294),s=n(5505),l=n(4621),u=n(1664),d=o.forwardRef((function(e,t){var n=e.classes,i=e.className,l=e.component,d=void 0===l?"div":l,c=e.disableGutters,m=void 0!==c&&c,g=e.fixed,f=void 0!==g&&g,p=e.maxWidth,h=void 0===p?"lg":p,b=(0,a.Z)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(d,(0,r.Z)({className:(0,s.Z)(n.root,i,f&&n.fixed,m&&n.disableGutters,!1!==h&&n["maxWidth".concat((0,u.Z)(String(h)))]),ref:t},b))}));t.Z=(0,l.Z)((function(e){return{root:(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:(0,i.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,i.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,i.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,i.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,i.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},1664:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2192);function a(e){if("string"!=typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},5951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(7294),a=n(1293),i=(n(6535),n(9244),n(7329)),o=n(8684);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){for(var t,n=1024,a=n,l=210,u=Math.min(n,a)/2-25,d=["Northeast","South","West","Midwest"],c={},m={},g=s(e.issues);!(t=g()).done;){var f=t.value;m[f.node.name]=f.node.states.map((function(e){return Number(e.value)})).sort(),m[f.node.name]=(0,i.Z)(new Set(m[f.node.name])),c[f.node.id]=f.node.name}var p=e.states.map((function(e){return e.node})).sort((function(e,t){return o.j2p(d.indexOf(e.region),d.indexOf(t.region))||o.j2p(e.id,t.id)})),h=4.5/p.length*Math.PI*2,b=o.tiA().domain(p.map((function(e){return e.id}))).range([h,2*Math.PI+h]),x=o.Xxj(p,(function(e){return e.region})).map((function(e){var t=e[0],n=e[1],r=b(n[0].id),a=b(n[n.length-1].id)+b.bandwidth();return{region:t,startAngle:r,endAngle:a,labelAngle:((r+a)/2-Math.PI/2)%(2*Math.PI)}})),y=["TRANSGENDER_HEALTHCARE","SCHOOL_ANTI_BULLYING","PUBLIC_ACCOMMODATIONS","MARRIAGE_EQUALITY","HOUSING","HATE_CRIMES","GENDER_MARKER_UPDATES_ON_IDENTIFICATION","EMPLOYMENT","EDUCATION","DISCRIMINATION_IN_CHILD_WELFARE","ANTI_CONVERSION_THERAPY"].map((function(e){return c[e]})),E=y.slice(0),v=p.flatMap((function(e){return E.map((function(t){var n=e.issues.find((function(e){return e.name===t}));return{state:e.name,abbreviation:e.id,region:e.region,category:t,status:n.policy,value:n.value}}))})),A=o.s$j().domain([0,E.length]).range([l,u]),k=o.Nb1().innerRadius((function(e){return A(y.indexOf(e.category))})).outerRadius((function(e){return A(y.indexOf(e.category)+1)})).startAngle((function(e){return b(e.abbreviation)})).endAngle((function(e){return b(e.abbreviation)+b.bandwidth()})).padRadius(l),I=o.PKp().domain(E).range(o.Cn1).unknown("rgb(234,234,234)"),w=o.Nb1().innerRadius(190).outerRadius(190).startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})),M=function(e,t){return Math.cos(e)*t},N=function(e,t){return Math.sin(e)*t},O=function(e){return e>0&&e<Math.PI};return r.createElement("div",{id:"radial-chart"},r.createElement("svg",{style:{width:"100%",height:"auto",font:"14px sans-serif",padding:"20px"},viewBox:"-512, -512, 1024, 1024",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},r.createElement("g",{key:"datapoints"},v.map((function(e){return r.createElement("g",{key:"datapoint-"+e.state+"-"+e.category},r.createElement("path",{d:k(e),stroke:"white",fill:I(e.category),fillOpacity:(m[e.category].indexOf(e.value)+1)/m[e.category].length*.9}),r.createElement("title",null,e.state+": "+e.category+", "+e.status))}))),r.createElement("g",{key:"dividers"},x.map((function(e){return r.createElement("g",{key:"divider-"+e.region,transform:"rotate("+(180*e.startAngle/Math.PI-90)+")"},r.createElement("line",{x1:l,x2:u+30,stroke:"black",strokeWidth:"5"}))}))),r.createElement("g",{key:"region-label-paths"},x.map((function(e){return r.createElement("path",{key:"label-path-"+e.region,d:w(e),id:"sei-chart-"+e.region,stroke:"none"})})),r.createElement("g",{key:"region-label-texts",style:{textTransform:"uppercase"},fill:"#888",textAnchor:"middle"},x.map((function(e){return r.createElement("text",{key:"label-text-"+e.region,transform:O(e.labelAngle)?"translate("+M(e.labelAngle,11)+", "+N(e.labelAngle,11)+")":null},r.createElement("textPath",{xlinkHref:"#sei-chart-"+e.region,startOffset:O(e.labelAngle)?"75%":"25%"},e.region))})))),r.createElement("g",{key:"state-labels"},p.map((function(e){return r.createElement("text",{key:"state-label-"+e.id,textAnchor:"middle",fill:"#888",x:M(b(e.id)+b.bandwidth()/2-Math.PI/2,u+16),y:N(b(e.id)+b.bandwidth()/2-Math.PI/2,u+16),dy:"0.31em"},e.id)}))),r.createElement("g",{key:"legend"},E.map((function(e,t){return r.createElement("g",{key:"legend-"+t,transform:"translate(-120,"+20*(t-(E.length-1)/2)+")"},r.createElement("rect",{width:"18",height:"18",fill:I(e)}),r.createElement("text",{style:{font:"11px sans-serif"},x:"24",y:"9",dy:"0.35em"},e))})))))},d=function(e){var t=e.data;return r.createElement("main",null,r.createElement(a.Z,{maxWidth:"md"},r.createElement("h1",null,"State policies on LGBTQ+ issues"),r.createElement(u,{states:t.sei.states.edges,issues:t.sei.issues.edges})))}}}]);
//# sourceMappingURL=component---src-pages-all-states-js-02f859e2a759d4c6ab06.js.map